先给你两张图的**精确切段**（阈值=245、行≥95%白=白底）：

## 你“当前呈现”的合成图（255×2048）

1. **白底**：**794 px**（0–793，**38.77%**）
2. **第1张图片**：**460 px**（794–1253，22.46%）
3. **白底**：**58 px**（1254–1311，2.83%）
4. **第2张图片**：**456 px**（1312–1767，22.27%）
5. **白底**：**280 px**（1768–2047，13.67%）

> 你说“底部白太小推不动”，确实：**底部只 280px**，而顶部白有 **794px**。

## 另一张（217×2048）

1. **第1张图片**：**481 px**（0–480，23.49%）
2. **白底**：**293 px**（481–773，14.31%）
3. **第2张图片**：**488 px**（774–1261，23.83%）
4. **白底**：**774 px**（1262–2035，37.79%）
5. **杂点内容**：6 px（2036–2041）
6. **白底**：6 px（2042–2047）

---

# 直接可落地的制作/程序规则（解决“第1张要藏住、顶部没白”的痛点）

**目标：** 固定输出 9:16（或你定的比例），保证：

* 画布**顶部白 ≥ T_top**；
* 中间间隔 = `gap`；
* 画布**底部白 ≥ T_bottom`**；
* 第1张在**顶部白之后**才出现（“被藏住”）。

**建议阈值（按 H_target=2048 举例）：**

* `T_top = 0.40 * H_target ≈ 820px`（至少 40% 画布高）
* `T_bottom = 0.15 * H_target ≈ 308px`
* `gap = 40px`（固定）

**算法（简单稳妥）：**

1. **检测每张图的顶/底白带**（像上面那样分段）。
2. 如果“第1张顶部白”不足 `T_top`：

   * **不要指望图片本身**，**直接在画布上方补白**到 `T_top`。
3. 让第1张按**定宽等比**缩放后贴在 `T_top` 下面。
4. 在第1张与第2张之间放固定 `gap` 白。
5. 第2张同样定宽等比缩放后贴在 `gap` 下面。
6. 如果**底部白**不足 `T_bottom`，**在画布底部继续补白**到 `T_bottom`。
7. 若总高超过目标高：先把 `gap` 压到 0；还超就**同比缩小两张图**，直至回到目标高（`T_top` 和 `T_bottom` 作为硬约束不动）。
8. 若总高低于目标高：在顶部/底部**按比例再分配白边**（优先加在顶部，保证“藏住”效果）。

**一句话核心：**
别依赖图片里的白底去“推”，**把“最上/最下的白”当作画布策略来补**（`T_top / T_bottom` 设成硬阈值），图片只负责**等比缩放和定位**。这样就算“第1张顶部没有白”，也一定能被“画布顶白”遮住；“底部推不动”的问题也由 `T_bottom` 直接保证。
